<!DOCTYPE html>
<html xmlns:xlink="http://www.w3.org/1999/xlink"><head>
<meta charset="UTF-8">
<title>YPilot</title>
<link rel="stylesheet" href="ypilot.css">
<script type="text/javascript" src="ypilot.js"></script>
</head>
<body>
<div id="svg-container">
<svg></svg>
</div>
<div id="welcome">
<h1>Welcome to YPilot</h1>
<div class="tabs">
<ul>
 <li class="selected"><a href="#profile">Your profile</a>
 <li><a href="#players">Players you have met</a>
 <li><a href="#new-game">Start a new game</a>
 <li><a href="#join-game">Join a game</a>
 <li><a href="#network-settings">Network settings</a>
 <li><a href="#help">Help</a>
</ul>
<div id="profile" class="selected">
<label>Your ID: <input type="text" id="id" size="36" disabled></label><br>
<label>Your handle: <input type="text" id="handle"></label><button id="generate-handle">Generate random handle</button><br>
<!-- TODO your shipshape -->
<!-- TODO key pair? -->
Your profile also includes the information in the "Players you have met" and "Network settings" tabs.<br>
<label><input type="checkbox" id="use-local-storage" checked> Save profile in browser (local storage/site data)</label><br>
<hr>
<button id="export-profile">Export profile</button>
<a id="export-profile-link" download="ypilot-profile.json">ypilot-profile.json</a>
<div class="dangerous">
<p>These buttons will erase the profile currently loaded in your browser. If you want to keep the currently loaded profile, export it to a file first.</p>
<label>Import profile: <input type="file" id="import-profile"></label><br>
<button id="new-profile">New profile</button>
</div>
</div>
<div id="players">
<table>
 <tr><th>ID</th><th>Handle(s)</th><th>If they ask your status</th><th>If they ask to join</th><th>Ask their status</th><th>Forget</th></tr>
</table>
</div>
<div id="new-game">
<!-- TODO display link to share for invites -->
<table id="games">
 <caption>Games you can start</caption>
 <tr><th>Start</th><th>Title</th><th>Author</th><th>URL</th></tr>
 <tr>
  <td><button>Start</button></td>
  <td>Asteroids</td>
  <td>Alice</td>
  <td><a href="https://www.example.com/asteroids.yp">https://www.example.com/asteroids.yp</a></td>
 </tr>
</table>
<button id="add-from-url">Add</button>
<label>from URL: <input type="url" id="config-url"></label><br>
<label>Start from file (singleplayer only): <input type="file" id="config-file"></label>
</div>
<div id="join-game">
<button>Look for games my friends are playing</button>
<table id="games-to-join">
<caption>Games you can join</caption>
 <tr><th>Join</th><th>Title</th><th>Current players</th><th>Config URL</th></tr>
 <tr>
  <td><button>Join</button></td>
  <td>Asteroids</td>
  <td>Alice, Bob, Charlie</td>
  <td><a href="https://www.example.com/asteroids.yp">https://www.example.com/asteroids.yp</a></td>
 </tr>
</table>
</div>
<div id="network-settings">
 <p>Only change these settings if you have set up your own relay server, or know some better ICE servers. The defaults should work OK for most people.</p>
 <label>WebRTC signaling relay URL:<br>
  <input type="url" id="signaling-relay-url" value="https://ssl.uofr.net/~willdb/cgi-bin/relay.pl"><br>
 </label>
 <label>ICE (STUN/TURN) server list:<br>
 <textarea id="ice-servers" placeholder="Enter the JSON array to pass in the iceServers argument to RTCPeerConnection.">[
{"urls":"stun:stun.ekiga.net"},
{"urls":"stun:stun.iptel.org"},
{"urls":"stun:stun.l.google.com:19302"},
{"urls":"stun:stun1.l.google.com:19302"},
{"urls":"stun:stun2.l.google.com:19302"},
{"urls":"stun:stun3.l.google.com:19302"},
{"urls":"stun:stun4.l.google.com:19302"}
]</textarea><br></label>
 <!-- label><input type="checkbox" id="enable-signaling-fallback"> Fall back to using the signaling relay as the main connection if ICE fails.</label -->
 <hr>
 <button onclick="restoreDefaultSettings()">restore defaults</button>
</div>
<div id="help">
 <em>TODO</em>
</div>
</div>
</div>
</body>
</html>

